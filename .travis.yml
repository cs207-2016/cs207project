language: python
python:
    - "3.5"
sudo: required
services:
    - docker
before_install:
    - pip install pytest pytest-cov
    - pip install coveralls
    - pip install portalocker
    - pip install scipy
    - pip install flask Flask_SQLAlchemy SQLAlchemy psycopg2
    - make sdist
    - pip install ./dist/rbtree-0.1.tar.gz
    - pip install ./dist/timeseries-0.1.tar.gz
    - pip install ./dist/dbserver-1.0.tar.gz
    - sudo sh ./init_travis.sh
script:
    - py.test
after_success:
    - coveralls
